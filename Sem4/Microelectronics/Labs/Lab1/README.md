# Лабораторная работа №2: Исследование функционирования схемы видеопамяти<br><br><br>


## Видеопамять:<br>
### 1. Чтение - С пина DATA читается 8 байт информации, которые постепенно прогоняются по dff блокам. Необходимым условием является GET = 1 (см. "Описание пинов")<br>
### 2. Циклическая перезапись - кадра просто по кругу гоняются по dff и выводятся на экран. Необходимым условием является GET = 0 (см. "Описание пинов")<br><br>

## Описание элементов схемы:<br>
### BUSMUX - логика очень проста: на вход поступает 2 массива и sel. Если sel = 0, то выводится первый массив, если sel = 1, выводится второй массив.<br>
### LPM\_DFF - блок задержки, принимает входной массив, и подаёт его на выход при нарастающем фронте (CLK меняет значение с 0 на 1).<br>
### LPM\_COMPARE - просто сравнение двух массивов, если массивы равны, то на выходе 1, иначе на выходе 0.<br>
### GOODCOUNTER - реализованный мной блок, при нарастающем фронте увеличивает внутренний счётчик на 1. Когда внутренний счётчик равен 7, подаёт на выход 1. При поступление 1 на reset сбрасывает значение счётчика<br><br>

## Описание пинов:<br>
### CLK - бинарное входное число, являющейся таймером, должен постоянно менять своё значение.<br>
### DATA[7 ..0] - бинарный входной массив, сюда должны поступать данные из RAM, которые будут выведены на экран.<br>
### KKS[7 ..0] - бинарный входной массив, необходим для пакетной записи.<br>
### Query - бинарное входное число, необходимое для пакетной записи.<br>
### Q[7 ..0] - бинарный выходной массив, пиксель выводимый на экран, равен значению последнего LPM\_DFF блока.<br>
### GET - бинарное входное число, если равно 1, то идёт пакетная запись. Равно 1, когда KKS равно Q и Query = 1.<br>
### Syncro - бинарное входное число, равно 1, если KKS равно Q.<br>
### qq[7 ..0] - бинарный выходной массив,  требование Амосова, его нет на оригинальной схеме. В него передаётся значение внутреннего счётчика GOODCOUNTER.<br><br>

## Описание папок и файлов:<br>
### В first.gdf содержится сама схема, её временная диаграмма (fisrt.scf), а так же реализованные мной блоки GOODCOUNTER.vhd и RSTR1.vhd. Эту часть задания надо демонстрировать в MAX PLUS II. Загружаете RSTR1, компилируете, "File" -> "Create Default Symbol", проделываете то же самое с GOODCOUNTER. После этого спокойно загружаете first.gdf, компилируете и симулируете.<br>
### В second.vhd содержится структурная модель видеопамяти и second.vwf - временная диаграмма. Вторая часть является тем же самым, что и первая, только не в графическом виде, а в виде кода. Её надо запускать в Quartus, с Max Plus 2 ничего работать не будет.<br><br>

## Требование к тестированию:<br>
### Требуется загрузить кадр, прокрутить его 3 раза, после этого загрузить второй кадр и прокрутить его 2 раза. Каждый кадр должен начинаться с 255, KKS первый временной цикл равен 0, потом 255 до конца. Query равно 1, в начале кадра, остальное время 0.<br>

## Вопросы:<br>
### В основном вопросы направлены на уточнение какой сигнал на каком выходном пине является следствием каких входных сигналов.
